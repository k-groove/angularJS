<!DOCTYPE html>

<!-- attach the Application module to the page -->
<html ng-app="gemStore">
  <head>
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <script type="text/javascript" src="angular.min.js"></script>
    <script type="text/javascript" src="app.js"></script>

    <style>
  </style>
  </head>

  <!-- attach a Controller function to the page -->
  <body class="container" ng-controller="StoreController as store">
  <!-- repeat a section for each item in an Array -->
    <ul class="list-group" ng-repeat="product in store.products">    
 <li class="list-group-item" >
      <h3>
        {{product.name}}
        <em class="pull-right">{{product.price | currency}}</em>
        <img ng-src="{{product.images[0].full}}"/>
      </h3>
    </li>
    
    <section ng-controller="PanelController as panel">
    <ul class="nav nav-pills">
    <li ng-class="{ active:panel.isSelected(1)}">
    <a href ng-click="panel.selectTab(1) ">Description</a></li>
    <li ng-class="{ active:panel.isSelected(2)}">
    <a href ng-click="panel.selectTab(2) ">Specifications</a></li>
    <li ng-class="{ active:panel.isSelected(3)}">
    <a href ng-click="panel.selectTab(3)">Reviews</a></li>
    </ul>
    <div class="panel" ng-show="panel.isSelected(1)">
     <h4>Description</h4>
     <p>{{product.description}}</p>
     </div>
     <div class="panel" ng-show="panel.isSelected(2)">
     <h4>Specifications</h4>
     <p>none yet</p>
     </div>
     <div class="panel" ng-show="panel.isSelected(3)">
     <h4>Reviews</h4>
     <blockquote ng-repeat="review in product.reviews">
     <b>Stars: {{review.stars}}</b>
     {{review.body}}
     <cite>by {{review.author}}</cite>
      </blockquote>
      <!--preview form, ng-model binds form value to the property-->
      <form name="reviewForm">
      <blockquote>
      	<b>Stars:{{review.stars}}</b>
      	{{review.body}}
      	<cite>by: {{review.author}}</cite>
      </blockquote>
      	<select ng-model="review.stars">
      		<option value="1">1 star</option>
      		<option value="2">2 star</option>
      		<option value="3">3 star</option>
      		<option value="4">4 star</option>
      		<option value="5">5 star</option>
      	</select>
      	<textarea ng-model="review.body"></textarea>
      	<label>by:</label>
      	<input ng-model="review.author", type="email"/>
      	<input type="submit" value="Submit">
      </form>
     </div>
     </section>
     </div>     
     </ul><!-- close list-group -->
  </body>
</html>
